<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>

  <title>danchoi/todo.rb @ GitHub</title>

  <style type="text/css">
    body {
      margin-top: 1.0em;
      background-color: #FFFFFF;
      font-family: Helvetica, Arial, FreeSans, san-serif;
      color: #555555;
      line-height: 1.5em;
    }
    #container {
      margin: 0 auto;
      width: 700px;
    }
    h1 { font-size: 3.8em; color: #333333; margin-bottom: 3px; }
    h1 .small { font-size: 0.4em; }
    h1 a { text-decoration: none }
    h2 { margin-top: 1.5em; font-size: 1.5em; color: #333333; }
    h3 { text-align: center; color: #333333; }
    a { color: #333333; }
    .description { font-size: 1.2em; margin-bottom: 30px; margin-top: 30px; font-style: italic;}
    .download { float: right; }
    pre { 
     border-radius: 5px;
     line-height: 1.1em;
     padding: 15px; font-size: smaller;
     color:#08FF08;font-family:Andale Mono;background-color:black 
    }
    hr { border: 0; width: 80%; border-bottom: 1px solid #aaa}
    .footer { text-align:center; padding-top:30px; font-style: italic; }
  </style>
</head>

<body>
  <a href="https://github.com/danchoi/todo.rb"><img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" /></a>

  <div id="container">


<h1><a href="https://github.com/danchoi/todo.rb">todo.rb</a>



<h2>Intro</h2>

<p>
todo.rb is a command-line todo list manager that stores data as
simple lists in a pair of plain text files.  It is inspired by <a
href="http://ginatrapani.github.com/todo.txt-cli/">todo.sh</a> by Gina
Trapani.</p>


<p>

Like <a href="http://wiki.43folders.com/index.php/ToDo.txt">Merlin Mann</a>, I
used keep todo lists in plain text files and use Vim to review and edit them.
The problem with using Vim is that it presents a captive user interface which
removes you from the command line and the immediate context of whatever you
were doing there.  Vim is also  more difficult to script than a standard,
noninteractive Unix tool.

</p>

<p> todo.rb is a todo list tool with a unobtrusive, noncaptive, Unix-style
interface.  It leverages Unix filters to let you view your tasks by
context or project. It uses <strong>ed</strong> under the hood to let you
perform a wide range of edits on your todo.txt without leaving the command line.
</p>

<h2>Requires</h2>
<p>Ruby 1.9</p>

<h2>Install</h2>
<pre>$ gem install todo.rb</pre>

<h2>Basics</h2>

<p>
The full command name is todo.rb, but you'll probably want to
alias it to something shorter. Put something like this in your
~/.bash_profile or ~/.bashrc: 
</p>

<pre>alias t=todo.rb</pre>

<p>todo.rb operates in the current working directory. It looks for a todo.txt
and done.txt file, and creates them if they don't already exist.
</p>

<pre>
$ t
Missing a todo.txt file. Creating.
Missing a done.txt file. Creating.
</pre>

<p>
You can start adding tasks like this. 
</p>

<pre>
$ t @harvardsq buy some assam from tealuxe
0a1
> @harvardsq buy some assam from tealuxe
</pre>

<p>
@harvardsq is a <strong>context tag</strong> for your task. A context tag usually indicates a
location. The two lines you see after the command prompt is a diff showing the
change you just made.
</p>

<p>
To see the tasks we have accumulated so far, just press t.
</p>

<pre>
$ t
     1  <span style='color:#00FFFF'>@harvardsq</span> buy some assam from tealuxe
</pre>

<p>
If you look in the file todo.txt, you'll see that all todo.rb is doing besides
printing the file is adding line numbers and coloring the context tags.
</p>

<p>
There is another type of tag you can use when you add tasks: a <strong>project tag</strong>. It looks like this:
</p>

<pre>
$ t +opensource release todo.rb
1a2
> +opensource release todo.rb
</pre>

<p>
When you print the task list, you'll see that project tags and context tags are
colored differently.  
</p>

<pre>
$ t
     1	<span style='color:#00FFFF'>@harvardsq</span> buy some assam from tealuxe
     2	<span style='color:#DC143C'>+opensource</span> release todo.rb
</pre>

<p>
Let's add one more task to the @harvardsq context.
</p>

<pre>
$ t @harvardsq buy more moleskine notebooks
2a3

$ t
     1	<span style='color:#00FFFF'>@harvardsq</span> buy some assam from tealuxe
     2	<span style='color:#DC143C'>+opensource</span> release todo.rb
     3	<span style='color:#00FFFF'>@harvardsq</span> buy more moleskine notebooks
</pre>


<p>
This is how you <strong>reorder tasks</strong>:
</p>


<pre>
$ t 3m0
0a1
> @harvardsq buy more moleskine notebooks
3d3
< @harvardsq buy more moleskine notebooks

$ t
     1	<span style='color:#00FFFF'>@harvardsq</span> buy more moleskine notebooks
     2	<span style='color:#00FFFF'>@harvardsq</span> buy some assam from tealuxe
     3	<span style='color:#DC143C'>+opensource</span> release todo.rb
</pre>

<p>
The 3m0 is an <strong>ed script</strong>. That's right, todo.rb delegates a lot
of commands to ed. So if you wanted to delete the first task, you would use 1d.
If you wanted to delete a range, you could use something like 1,3d. 
</p>

<p>
If you want to insert text via an ed
command sequence, put a space after the ed motion
command, followed by the text to insert.  Put quotes around the text if it
contains any characters you don't want interpreted by the shell.
</p>


<p>So for example, this would append a new task after line 3:</p>

<pre>
$ t 3a "buy some fresh basil @traderjoes"
</pre>

<p>
The <strong>do</strong> command marks tasks as done. 
</p>

<pre>
$ t do 2
2d1
< @harvardsq buy some assam from tealuxe

$ t do 1
1d0
< @harvardsq buy more moleskine notebooks
</pre>

<p>
Done tasks are moved to the done.txt file and timestamped with the date of
completion. You can display done tasks with the "done" command.
</p>

<pre>
$ t done
     1	2012-01-29 <span style='color:#00FFFF'>@harvardsq</span> buy some assam from tealuxe
     2	2012-01-29 <span style='color:#00FFFF'>@harvardsq</span> buy more moleskine notebooks
</pre>

<p>
To undo a task, use "undo" along with the line number of the done item.
</p>

<pre>
$ t undo 2
1a2
> @harvardsq buy more moleskine notebooks

$ t
     1	<span style='color:#DC143C'>+opensource</span> release todo.rb
     2  buy fresh basil <span style='color:#00FFFF'>@traderjoes</span>
     3	<span style='color:#00FFFF'>@harvardsq</span> buy more moleskine notebooks
</pre>

<p>
You can <strong>filter</strong> tasks by tag like this:
</p>

<pre>
$ t @harvardsq
     3  <span style='color:#00FFFF'>@harvardsq</span> buy more moleskine notebooks
</pre>

<p>
You can also <strong>abbreviate tags</strong>. todo.rb will expand the
abbreviated tag to the first tag it finds that matches the abbreviation.
<p>

<pre>
$ t @h
     3  <span style='color:#00FFFF'>@harvardsq</span> buy more moleskine notebooks
</pre>

You can list both incomplete and done tasks with the "all" command. You can
pass a context or project tag to "all" to filter the list by that tag.
Again, you can use abbrevation.
</p>

<pre>
$ t all @h
todo
     2	<span style='color:#00FFFF'>@harvardsq</span> buy more moleskine notebooks

done
     1	2012-01-29 <span style='color:#00FFFF'>@harvardsq</span> buy some assam from tealuxe
</pre>


<p>
There is one more way to highlight and filter items, and that is by flagging
tasks as  <strong>high priority</strong>. A task is deemed to be high
priority if it contains an <strong>exclamation mark</strong>:
</p>

<pre>
$ t '3s/$/!/'
3c3
< @harvardsq buy more moleskine notebooks
---
> @harvardsq buy more moleskine notebooks!

$ t
     1  <span style='color:#DC143C'>+opensource</span> release todo.rb
     2  buy fresh basil <span style='color:#00FFFF'>@traderjoes</span>
<span style='color:#FFFF00'>     3  </span><span style='color:#00FFFF'>@harvardsq</span><span style='color:#FFFF00'> buy more moleskine notebooks!</span>
</pre>

<p>If a task contains !!!, the item will actually flash. I'll spare you that
demonstration. </p>


<p>To filter the list to show just priority items, use 
t ! or t ! followed by a tag or tag abbreviation:</p>

<pre>
$ t ! @h
<span style='color:#FFFF00'>     3  </span><span style='color:#00FFFF'>@harvardsq</span><span style='color:#FFFF00'> buy more moleskine notebooks!</span>
</pre>

<p>To see a simple report of your tasks:</p>

<pre>
$ t report
tag            priority     todo     done
-------------- -------- -------- --------
<span style='color:#DC143C'>+opensource</span>           0        1        0
<span style='color:#00FFFF'>@harvardsq</span>            1        1        1
<span style='color:#00FFFF'>@traderjoes</span>           0        1        0
</pre>


<h2>Extras</h2>

<p>If you want to undo a destructive action, use the <strong>revert</strong> command:</p>

<pre>t revert</pre>


<p>
Before changing todo.txt, todo.rb backs up todo.txt as .todo.txt.bkp. The
revert command just swaps the two files.
</p>

<p>If you don't want colored output, use the -C flag after t.</p>

<p>
todo.rb also lets you <strong>customize colors</strong>.  It will look for a colors.yml
file in the current directory or in ~/.todo.rb/. The colors.yml file can specify 
the color for high priority items, default colors for context and project tags,
as well as special colors for particular tags.
</p>

<p>For example, this colors.yml</p>

<pre>
priority: fuchsia
context: FF69B4
project: FFEBCD
@harvardsq: DDAA00
</pre>


<p>
would color the output like this:
</p>

<pre>
     1  <span style='color:#FFEBCD'>+opensource</span> release todo.rb
     2  buy fresh basil <span style='color:#FF0000'>@traderjoes</span>
<span style='color:#FF00FF'>     3  </span><span style='color:#DDAA00'>@harvardsq</span><span style='color:#FF00FF'> buy more moleskine notebooks!</span>
</pre>


<h2>Tips</h2>

<p> 
I keep a global todo list in ~/todo/todo.txt and per-project todo.txt
files in project folders.  I use t as an alias for todo.rb to manage project todo.txt files.
For managing the global todo.txt, I added this bash function to ~/.bash_profile to let
me use tt to edit ~/todo/todo.txt from any directory: 
</p>

<pre>
function tt()  {
  pushd ~/todo && t $@
  popd
}
</pre>


<p>Synchronize the folder containing your todo.txt, done.txt, and colors.yml
across your computers with Git or Dropbox.</p>

<p>Pipe todo.rb into other unix tools like <strong>head</strong>,
<strong>grep</strong>, <strong>lpr</strong>, or <strong>mail</strong>.
</p>

<p>
Because todo.rb is a standard, non-interactive unix command-line program and
todo.txt is a regular text file, todo.rb is highly scriptable. 
</p>

<p>
All of the following scripts would be simple to write:
</p>

<p>
You can write crontasks to scan your todo.txt for items with dates and times in
them and send you email reminders when things are due.
</p>

<p> 
You can write a program to poll your Gmail inbox for emails
matching certain rules and create tasks from the subject lines of those emails.
</p>

<p>
You can write a script to publish your todo list to a webpage and to 
automatically update it when the todo list changes. This lets you access your todo lists
from any computer or mobile device, as well as share them with others. 
</p>


</ul>


<h2>Source</h2>
<p>You can also clone the project with <a href="http://git-scm.com">Git</a>
by running:
<pre>$ git clone git://github.com/danchoi/todo.rb</pre>
</p>




    <div class="footer">
      get the source code on GitHub : <a href="https://github.com/danchoi/todo.rb">danchoi/todo.rb</a>
    </div>

  </div>

</body>
</html>
